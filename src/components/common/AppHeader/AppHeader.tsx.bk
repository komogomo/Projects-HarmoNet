'use client';
import React from 'react';
import { LanguageSwitch } from '@/src/components/common/LanguageSwitch';
import { useStaticI18n as useI18n } from '@/src/components/common/StaticI18nProvider/StaticI18nProvider';
import type { AppHeaderProps } from './AppHeader.types';
import Image from 'next/image';

export const AppHeader: React.FC<AppHeaderProps> = ({
  variant = 'login',
  className = '',
  testId = 'app-header',
}) => {
  const { currentLocale, setLocale } = useI18n();
  return (
    <header
      className={`
        fixed top-0 left-0 right-0
        h-[60px]
        bg-white
        border-b border-gray-200
        z-[1000]
        flex items-center justify-between
        px-5
        ${className}
      `}
      data-testid={testId}
      role="banner"
    >
      {/* ãƒ­ã‚´ */}
      <div className="flex items-center">
        <Image
          src="/images/logo-harmone.png"
          alt="HarmoNet"
          width={128}
          height={32}
          data-testid={`${testId}-logo`}
          priority
        />
      </div>

      {/* å³å´è¦ç´  */}
      <div className="flex items-center gap-4">
        {/* é€šçŸ¥ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆèªè¨¼å¾Œã®ã¿ï¼‰ */}
        {variant === 'authenticated' && (
          <button
            className="
              relative
              w-10 h-10
              flex items-center justify-center
              text-gray-600
              hover:bg-gray-100
              rounded-lg
              transition-colors
            "
            aria-label="é€šçŸ¥ã‚’è¡¨ç¤º"
            data-testid={`${testId}-notification`}
          >
            <span className="text-2xl" aria-hidden="true">ğŸ””</span>
          </button>
        )}

        {/* è¨€èªåˆ‡æ›¿ */}
        <LanguageSwitch
          testId={`${testId}-language-switch`}
        />
      </div>
    </header>
  );
};

AppHeader.displayName = 'AppHeader';
